# Getting Voxel Tools获取体素工具


This is a C++ module, which needs to get compiled into Godot Engine.  
这是一个C++模块，需要编译到 Godot 引擎中。

## Precompiled builds预编译版本

### Release builds发布版本


Currently there are no builds done "per milestone", we only do development builds of latest versions.  
目前没有“每个里程碑”完成构建，我们只进行最新版本的开发构建。

Because the plugin is primarily developped as a module, it comes as a whole custom build of the Godot editor, and might differ a little from the official version.  
由于该插件主要作为模块开发，因此它是Godot编辑器的完整自定义版本，并且可能与正式版本略有不同。

The engine is massive and targets a lot of platforms, while our module is small in comparison and we don't have dedicated build containers, so not all export templates are available. You can develop your game and test it with the editor on main desktop platforms, but if you want to export it, you may need to compile the templates yourself.  
引擎很大，面向很多平台，而我们的模块相比之下很小，而且我们没有专用的构建容器，所以并非所有导出模板都可用。您可以在主要桌面平台上开发游戏并使用编辑器对其进行测试，但如果要导出它，则可能需要自己编译模板。

### 开发构建

#### 对于戈多 4

Available on Github Actions, pick your platform:  
在 Github Actions 上可用，选择您的平台：

-   [Windows builds Windows构建](https://github.com/Zylann/godot_voxel/actions/workflows/windows.yml)
-   [Linux builds Linux 构建](https://github.com/Zylann/godot_voxel/actions/workflows/linux.yml)
-   [Mono builds](https://github.com/Zylann/godot_voxel/actions/workflows/windows.yml) (likely not available, they broke in Godot 4, help is needed to fix them)  
    单声道构建（可能不可用，它们在 Godot 4 中损坏，需要帮助来修复它们）

Then click on the latest successful build, with a green checkmark:  
然后单击最新的成功构建，并带有绿色复选标记：

![Screenshot of a list of builds, with the latest successful one circled in green](https://voxel-tools.readthedocs.io/en/latest/images/ci_builds_latest_link.webp)

Then scroll to the bottom, you should see download links:  
然后滚动到底部，您应该会看到下载链接：

![Github actions screenshot](https://voxel-tools.readthedocs.io/en/latest/images/github_actions_windows_artifacts.webp)

In case there are multiple downloadable artifacts, the editor build will be the one with `editor` in the name.  
如果有多个可下载的项目，编辑器版本将是名称中带有 `editor` 的工件。

These builds correspond to the `master` version depicted in the [changelog](https://github.com/Zylann/godot_voxel/blob/master/CHANGELOG.md). They are built using Godot's latest stable version branch (for example, `4.0` at time of writing), instead of `master`. A new build is made each time commits are pushed to the main branch, but also when other developers make Pull Requests, so careful about which one you pick.  
这些版本对应于更改日志中描述 `master` 的版本。它们是使用 Godot 的最新稳定版本分支（例如，在撰写本文时）构建的， `4.0` 而不是 `master` .每次将提交推送到主分支时都会进行新的构建，当其他开发人员发出拉取请求时也是如此，因此请小心选择哪一个。

Note 注意

You will need a Github account to be able to download development builds. Otherwise, links will not work.  
您需要一个 Github 帐户才能下载开发版本。否则，链接将不起作用。

#### For Godot 3 (legacy builds)  
对于戈多 3（遗留版本）

On Github actions, you may search for builds occurring with the `godot3.x` branch.  
在 Github 操作上，您可以搜索 `godot3.x` 与分支一起发生的生成。

Development of new features on that branch stopped though, so it is possible the downloads expired. In which case you may look for a release or compile yourself.  
但是，该分支上的新功能开发已停止，因此下载可能已过期。在这种情况下，您可以寻找版本或自行编译。

### Tokisan builds (very old)  
Tokisan 构建（非常古老）¶

-   Available on [Tokisan Games website](http://tokisan.com/godot-binaries/).  
    可在常山游戏网站上找到。

A long while ago, [Cory Petkovsek](https://github.com/tinmanjuggernaut) made full builds of Godot with the module and some additions of his own, including export templates. However they are now way behind the current version so they miss a lot of recent features and setup differences.  
很久以前，Cory Petkovsek用这个模块和他自己的一些附加功能（包括导出模板）制作了Godot的完整版本。但是，它们现在远远落后于当前版本，因此它们错过了许多最新的功能和设置差异。

## Building yourself 构建自己

These steps will walk you through creating a custom build of Godot with the Voxel Tools module compiled into it.  
这些步骤将引导您创建Godot的自定义版本，并将体素工具模块编译到其中。

### Build Godot 构建戈多

1.  Download and compile the [Godot source](https://github.com/godotengine/godot) by following [the official guide](https://docs.godotengine.org/en/latest/development/compiling/index.html). If you want to regularly update your build (recommended), clone the repository with Git instead of downloading a zip file.  
    按照官方指南下载并编译戈多源代码。如果要定期更新构建（推荐），请使用 Git 克隆存储库，而不是下载 zip 文件。
2.  Make sure to select the appropriate branches. If you want the very latest development version, use the `master` branch of Godot. If you want a more stable build following the latest stable release, use the branch of that version (for example `4.0`) or a specific version tag (like `4.0.2-stable`). If you want Godot 3, use Godot's `3.x` branch, and the module's `godot3.x` branch (but is no longer maintained).  
    确保选择适当的分支。如果你想要最新的开发版本，请使用Godot的 `master` 分支。如果您希望在最新的稳定版本之后获得更稳定的版本，请使用该版本的分支（例如 `4.0` ）或特定版本标记（例如 `4.0.2-stable` ）。如果你想要 Godot 3，请使用 Godot 的分支和模块的 `3.x` `godot3.x` 分支（但不再维护）。
3.  Build Godot before adding any other modules and make sure it produces an executable.  
    在添加任何其他模块之前构建Godot，并确保它产生可执行文件。
4.  Run the newly built executable found in `godot/bin`. Look under Help/About and confirm that the version string indicates you are running the version you want (e.g. `3.2dev.custom_build.ee5ba3e`).  
    运行在 中找到 `godot/bin` 的新构建的可执行文件。在“帮助/关于”下查看，并确认版本字符串指示您正在运行所需的版本（例如 `3.2dev.custom_build.ee5ba3e` ）。

### Add Voxel Tools 添加体素工具

1.  Download or clone the repository for [Voxel Tools](https://github.com/Zylann/godot_voxel). Use Git to clone the repository if you want to make it easy to update your builds (recommended).  
    下载或克隆体素工具的存储库。如果要轻松更新构建，请使用 Git 克隆存储库（推荐）。
2.  By default, the `master` branch of the module should work with the latest stable branch of Godot. There are "snapshot" branches of the module, which were created at the time specific Godot versions were released (such as `godot4.0`), but they are not updated.  
    默认情况下，模块的分支应该与 Godot 的最新稳定 `master` 分支一起工作。该模块有“快照”分支，这些分支是在发布特定 Godot 版本时创建的（例如 `godot4.0` ），但它们不会更新。
3.  Place the Voxel Tools directory inside your Godot source tree, in the `godot/modules` directory.  
    将体素工具目录放在 Godot 源代码树中的 `godot/modules` 目录中。
4.  Rename the Voxel Tools folder to `voxel`. When correct, the files (e.g. README.md) will be located in `godot/modules/voxel`. **This is important!**  
    将体素工具文件夹重命名为 `voxel` 。如果正确，文件（例如 README.md）将位于 `godot/modules/voxel` 中。这很重要！
5.  Rebuild Godot and make sure it produces an executable.  
    重建戈多并确保它产生可执行文件。
6.  Test that your build has Voxel support:  
    测试您的构建是否支持体素：
    1.  Run your new Godot build.  
        运行你的新戈多版本。
    2.  Create a new project.  
        创建一个新项目。
    3.  Create a new 3D scene.  
        创建新的 3D 场景。
    4.  Add a new node, search for "Voxel" and see if "VoxelTerrain" appears. If so, you have a successful build. If not, review these instructions and your build logs to see if you missed a step or something failed along the way.  
        添加一个新节点，搜索“体素”，看看是否出现“体素地形”。如果是这样，则您有一个成功的构建。如果没有，请查看这些说明和生成日志，以查看是否错过了某个步骤或在此过程中失败了某些内容。

### Updating Your Build 更新您的构建

If you cloned Godot and Voxel Tools, you can use git to update your local code.  
如果您克隆了 Godot 和体素工具，则可以使用 git 更新本地代码。

1.  Go to your local Godot source directory `godot` and run `git pull`. It will download all updates from the repository and merge them into your local source.  
    转到您当地的 Godot 源目录 `godot` 并运行 `git pull` .它将从存储库下载所有更新并将它们合并到本地源中。
2.  Go to `godot/modules/voxel` and run `git pull`. Git will update Voxel Tools.  
    转到并 `godot/modules/voxel` 运行 `git pull` .Git 将更新体素工具。
3.  Rebuild Godot. 重建戈多。

Note 注意

Since you are pulling from two projects developped by different people, it's probable that on occasion your build won't compile, your project won't open, or your Voxel Tools won't work properly or even crash Godot. To minimize downtime, save your successful builds. Move them out of the build folder and rename them with the version number (e.g. godot-3.2+ee5ba3e.exe). This way, you can continue to use previously working builds until the Godot or Voxel developers fix whatever is broken. It is generally desired by all that code published to repositories will at least build, but stuff happens.  
由于您是从由不同人开发的两个项目中提取的，因此有时您的构建可能无法编译，您的项目无法打开，或者您的体素工具无法正常工作，甚至使Godot崩溃。若要最大程度地减少停机时间，请保存成功的生成。将它们移出构建文件夹并使用版本号重命名它们（例如 godot-3.2+ee5ba3e.exe）。这样，您可以继续使用以前工作的版本，直到Godot或Voxel开发人员修复任何损坏的内容。发布到存储库的代码至少会构建，但事情发生了。

## Export templates 导出模板

### Getting a template 获取模板

In Godot Engine, exporting your game as an executable for a target platform requires a "template". A template is an optimized build of Godot Engine without the editor stuff. Godot combines your project files with that template and makes the final executable.  
在Godot引擎中，将游戏导出为目标平台的可执行文件需要一个“模板”。模板是Godot引擎的优化版本，没有编辑器的东西。Godot 将您的项目文件与该模板合并并制作最终可执行文件。

If you only download the Godot Editor with the module, it will allow you to develop and test your game, but if you export without any other setup, Godot will attempt to use a vanilla template, which won't have the module. Therefore, it will fail to open some scenes.  
如果您只下载带有模块的 Godot 编辑器，它将允许您开发和测试您的游戏，但如果您在没有任何其他设置的情况下导出，Godot 将尝试使用没有该模块的原版模板。因此，它将无法打开某些场景。

As mentionned in earlier sections, there are currently no "official" builds of this module, but you can get template builds at the same place as [latest development versions](https://voxel-tools.readthedocs.io/en/latest/getting_the_module/#development-builds). Template builds are those with `template` in their name.  
如前几节所述，此模块目前没有“官方”版本，但您可以在与最新开发版本相同的位置获取模板构建。模板构建是名称中带有的 `template` 模板构建。

If there is no template available for your platform, you may build it yourself. This is the same as building Godot with the module, only with different options. See the [Godot Documentation](https://docs.godotengine.org/en/latest/development/compiling/index.html) for more details, under the "building export templates" category of the platform you target.  
如果没有适用于您的平台的模板，您可以自己构建。这与使用模块构建Godot相同，只是具有不同的选项。有关更多详细信息，请参阅目标平台的“构建导出模板”类别下的 Godot 文档。

### Using a template 使用模板

Once you have a template build, tell Godot to use it in the Export configurations. Fill in the path to a custom template in the "Custom Template" section:  
一旦你有一个模板构建，告诉Godot在导出配置中使用它。在“自定义模板”部分中填写自定义模板的路径：

![Screenshot of Godot export configuration window with a custom template assigned for Windows](https://voxel-tools.readthedocs.io/en/latest/images/export_template_window.webp)

### GDExtension GDExtension¶

In the future, it is hoped that none of this manual work is required. Rather than getting a custom version of the engine, you would download Voxel from the asset library. Developping, testing, exporting would just work without extra setup.  
将来，希望不需要这些手工工作。您不必获取引擎的自定义版本，而是从资源库中下载 Voxel。开发、测试、导出无需额外设置即可工作。

GDExtension is what would make this possible. This module can already [compile with GodotCpp](https://voxel-tools.readthedocs.io/en/latest/module_development/#gdextension) so it can be loaded as a GDExtension library. Unfortunately, there are still [too many problems](https://github.com/Zylann/godot_voxel/issues/442) for the module to work properly. For the time being, a custom engine build is more reliable.  
GDExtension是使这成为可能的原因。该模块已经可以使用GodotCpp进行编译，因此可以将其加载为GDExtension库。不幸的是，模块仍然有太多问题无法正常工作。目前，自定义引擎构建更可靠。

There are development builds available on [Github Actions](https://github.com/Zylann/godot_voxel/actions/workflows/extension_windows.yml) as we try to keep the module compiling with GodotCpp, however they lack testing and might crash. Use at your own risk.  
Github Actions 上有可用的开发版本，因为我们试图使用 GodotCpp 保持模块编译，但它们缺乏测试并且可能会崩溃。使用风险自负。
